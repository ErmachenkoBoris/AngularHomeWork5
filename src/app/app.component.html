<!--The content below is only a placeholder and can be replaced.-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"  crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"  crossorigin="anonymous"></script>
<div class="page-header" style="margin-left: 20vw"><h1 > Таблица Студетов </h1></div>
<div class="panel" style="font-size: 2vh;">
  <div class="form-inline">
    <div class="form-group">
      <div class="col-md-offset-2 col-md-8">
        <div style="width: 1000%;">
          <div style="float: left; width: 100px; height: 100px; margin-right: 5vw"><input type="checkbox" class="checkbox" [(ngModel)]="flag">
            Подсветка Двоечников</div>
          <div style="float: left; width: 200px; height: 100px; margin-right: 5vw"> Введите ФАМИЛИЮ для поиска:
            <input size="20" type="text" class="text" [(ngModel)]="surname">
          </div>
          <div style="float: left; width: 200px; height: 100px;">
            Фильтр по баллу:
            <select #product name="marks" id="mar" (change)="changeFilter(product.options[product.selectedIndex].value)">
              <option value="1" selected  >Больше 1</option>
              <option value="2" >Больше 2</option>
              <option value="3" >Больше 3</option>
              <option value="4" >Больше 4</option>
            </select>
            <br>
          </div>
          <div style="float: left; width: 200px; height: 100px;">
            Родились от:
            <input type="date" name="calendar" (change)="createDate()"
                   [(ngModel)]="mindate" min="1999-06-04" max="2012-05-29">
          </div>
          <div style="float: left; width: 200px; height: 100px;">
            Родились до:
            <input type="date" name="calendar" value="2010-06-04" (change)="createDate()"
                   [(ngModel)]="maxdate"  min="1999-06-04" max="2012-05-29">
          </div>
          <div style="float: left; ">
            <input type="button"  style="width: 200px; height: 100px; background: greenyellow" value="Добавить студента"
            (click)="openAddDialog()">
          </div>
        </div>
      </div>
    </div>
  </div>
  <table style="margin-top: 10vh" class="table table-striped">
    <thead>
    <tr  >
      <th [style.background]="backcolor[1]" >
        Имя <p><input type="button" value="отсортировать" (click)="sortName() || changeBackColorThr(1)"></p></th>
      <th [style.background]="backcolor[2]" >
        Фамилия <p><input type="button" value="отсортировать" (click)="sortSerName() || changeBackColorThr(2)"></p></th>
      <th [style.background]="backcolor[3]" >
        Отчество <p><input type="button" value="отсортировать" (click)="sortPatronymic() || changeBackColorThr(3)"></p></th>
      <th [style.background]="backcolor[4]" >
        Дата Рождения <p><input type="button" value="отсортировать" (click)="sortDate() || changeBackColorThr(4)"></p></th>
      <th [style.background]="backcolor[5]">
        Средний балл <p><input type="button" value="отсортировать" (click)="sortMark() || changeBackColorThr(5)"></p></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let student of database" [style.background]="checkSearch(student.surname)|| checkMark(student.mark)">
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        {{student.name}}</td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        {{student.surname}}</td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        {{student.patronymic}}</td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        {{(student.datebd.getMonth()+1) + '/' + student.datebd.getDate() + '/' +  student.datebd.getFullYear()}}</td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        {{student.mark}}</td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        <button style="background: darksalmon" mat-raised-button (click)="openDeleteStudentDialog(student)">Удалить</button>
      </td>
      <td *ngIf="checkConditionsFilters(student.mark, student.datebd)">
        <button style="background: #9CD4E8" mat-raised-button (click)="openEditor(student)">Редактировать</button>
      </td>
    </tr>
    </tbody>
  </table>
  <app-edit ></app-edit>
</div>

